<div class="card">
  <div class="header">
    <h2 class="title">Flight Search</h2>
  </div>  

  <div class="content">
    <form #f="ngForm">
      <div class="form-group">
        <label for="from">From</label>
        <input class="form-control" name="from" [(ngModel)]="from" />
      </div>
      <div class="form-group">
        <label for="to">To</label>
        <input class="form-control" name="to" [(ngModel)]="to" />
      </div>
      <div class="form-group">
        <button [disabled]="!form && !to" (click)="search(flight)" class="btn btn-default">
          Search
        </button>
      </div>
    </form>
  </div>

</div>

<div class="card" *ngIf="flights.length">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Id</th>
        <th>From</th>
        <th>To</th>
        <th>Date</th>
      </tr>
    </thead>
    <tbody>
      <tr
        *ngFor="let flight of flights"
        [class.active]="flight === selected">
        <td>{{flight.id }}</td>
        <td>{{flight.from}}</td>
        <td>{{flight.to}}</td>
        <td>{{flight.date | date:'dd.MM.yyyy'}}</td>
        <td>
          <a (click)="selectFlight(flight)">
            Select
          </a>
        </td>
      </tr>
    </tbody>
  </table>

</div>

<div class="card">
  <div *ngIf="selected">
    <pre class="">{{
      selected | json
    }}</pre>
  </div>
</div>
